import{a as M,S as j,i as B}from"./assets/vendor-BSTwZ_tR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const P="https://corsproxy.io/?url=",T="https://pixabay.com/api",E="52704159-1137319808f91d343a45c96fe",x="photo",C="horizontal",O=!0,h=15,R={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}};async function g(s,e){try{const o=`${T}/?key=${E}&q=${s}&image_type=${x}&orientation=${C}&safesearch=${O}&page=${e}&per_page=${h}`,a=await M(`${P}${o}`,R);if(!a.data)throw new Error(`HTTP error! Status: ${a.status}`);return a.data}catch(o){throw console.error(o),o}}const c=document.querySelector("ul.gallery"),b=document.querySelector(".loader"),w=document.querySelector(".load-more-btn"),D=new j(".gallery li a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",nav:!0,captionDelay:250});function L(s){const e=s.map(({largeImageURL:o,webformatURL:a,tags:t,likes:r,views:n,comments:q,downloads:v})=>`<li class="gallery-item js-gallery-item">
                <a class="gallery-link" href="${o}">
                  <img class="gallery-image" src="${a}" width='100px' alt="${t.split(",").slice(0,3).join(",")}">
                  <ul class="image-params">
                    <li><b>Likes</b>:<br> ${r}</li>
                    <li><b>Views</b>:<br> ${n}</li>
                    <li><b>Comments</b>:<br> ${q}</li>
                    <li><b>Downloads</b>:<br> ${v}</li>
                  </ul>
                </a>
              </li>`).join("");c.insertAdjacentHTML("beforeend",e),D.refresh()}function G(){c.innerHTML=""}function $(){c.classList.remove("is-shown"),b.classList.add("is-shown")}function u(){b.classList.remove("is-shown"),c.classList.add("is-shown")}function S(){w.classList.add("is-shown")}function d(){w.classList.remove("is-shown")}let i=1,y=0;const l={query:document.querySelector(".js-input-field"),form:document.querySelector(".js-form"),loadMoreButton:document.querySelector(".js-load-more-btn"),gallery:document.querySelector(".js-gallery")},f={emptyResponseMessage:"Sorry, there are no images matching your search query. Please try again!",emptyQueryMessage:"Please enter your search query image",endSearchResults:"We're sorry, but you've reached the end of search results."};let p="";function m(s){B.show({message:s,messageColor:"#ffffff",backgroundColor:"#fe5549",progressBar:!1,position:"center"})}l.form.addEventListener("submit",async s=>{if(s.preventDefault(),l.query.value.trim()===""){m(f.emptyQueryMessage);return}G(),d(),$();try{p=l.query.value;const e=await g(p,i);if(u(),!e.hits||e.hits.length===0){m(f.emptyResponseMessage);return}L(e.hits),y=Math.ceil(e.totalHits/h),i<y?S():d()}catch(e){console.log(e),u()}});l.loadMoreButton.addEventListener("click",async s=>{s.preventDefault(),i+=1;try{const e=await g(p,i);if(i>=y){d(),m(f.endSearchResults);return}$(),L(e.hits),u(),S();const o=l.gallery.lastElementChild.getBoundingClientRect();console.log(o),window.scrollBy({top:o.height*3,behavior:"smooth"})}catch(e){console.log(e)}});
//# sourceMappingURL=index.js.map
