import{a as j,S as B,i as P}from"./assets/vendor-BSTwZ_tR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const T="https://corsproxy.io/?url=",R="https://pixabay.com/api",E="52704159-1137319808f91d343a45c96fe",x="photo",O="horizontal",C=!0,h=15,D={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}};async function g(r,e){try{const s=`${R}/?key=${E}&q=${r}&image_type=${x}&orientation=${O}&safesearch=${C}&page=${e}&per_page=${h}`,a=await j(`${T}${s}`,D);if(!a.data)throw new Error(`HTTP error! Status: ${a.status}`);return a.data}catch(s){throw console.error(s),s}}const d=document.querySelector("ul.gallery"),b=document.querySelector(".loader"),w=document.querySelector(".load-more-btn"),G=new B(".gallery li a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",nav:!0,captionDelay:250});function L(r){const e=r.map(({largeImageURL:s,webformatURL:a,tags:t,likes:o,views:i,comments:v,downloads:M})=>`<li class="gallery-item js-gallery-item">
                <a class="gallery-link" href="${s}">
                  <img class="gallery-image" src="${a}" width='100px' alt="${t.split(",").slice(0,3).join(",")}">
                  <ul class="image-params">
                    <li><b>Likes</b>:<br> ${o}</li>
                    <li><b>Views</b>:<br> ${i}</li>
                    <li><b>Comments</b>:<br> ${v}</li>
                    <li><b>Downloads</b>:<br> ${M}</li>
                  </ul>
                </a>
              </li>`).join("");d.insertAdjacentHTML("beforeend",e),G.refresh()}function H(){d.innerHTML=""}function S(){d.classList.remove("is-shown"),b.classList.add("is-shown")}function y(){b.classList.remove("is-shown"),d.classList.add("is-shown")}function $(){w.classList.add("is-shown")}function f(){w.classList.remove("is-shown")}let n=1,p=0;const l={query:document.querySelector(".js-input-field"),form:document.querySelector(".js-form"),loadMoreButton:document.querySelector(".js-load-more-btn"),gallery:document.querySelector(".js-gallery")},c={emptyResponseMessage:"Sorry, there are no images matching your search query. Please try again!",emptyQueryMessage:"Please enter your search query image",endSearchResults:"We're sorry, but you've reached the end of search results."};let m="";function u(r){P.show({message:r,messageColor:"#ffffff",backgroundColor:"#fe5549",progressBar:!1,position:"center"})}function q(r){if(!r||r.length===0){u(c.emptyResponseMessage);return}}l.form.addEventListener("submit",async r=>{if(r.preventDefault(),n=1,l.query.value.trim()===""){u(c.emptyQueryMessage);return}H(),f(),S();try{m=l.query.value;const e=await g(m,n);y(),q(e.hits),L(e.hits),p=Math.ceil(e.totalHits/h),n<p?$():f()}catch(e){console.log(e),y()}});l.loadMoreButton.addEventListener("click",async r=>{r.preventDefault(),n+=1;try{const e=await g(m,n);if(S(),q(e.hits),console.log(e.hits),!e.hits){u(c.endSearchResults);return}if(n>=p){f(),u(c.endSearchResults);return}L(e.hits),y(),$();const s=l.gallery.querySelector("li").getBoundingClientRect();console.log(s),window.scrollBy({top:s.height*2,behavior:"smooth"})}catch(e){console.log(e)}});
//# sourceMappingURL=index.js.map
