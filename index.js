import{a as v,S as M,i as j}from"./assets/vendor-BSTwZ_tR.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const B="https://corsproxy.io/?url=",P="https://pixabay.com/api",T="52704159-1137319808f91d343a45c96fe",E="photo",x="horizontal",O=!0,R=15,C={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}};async function h(o,e){try{const s=`${P}/?key=${T}&q=${o}&image_type=${E}&orientation=${x}&safesearch=${O}&page=${e}&per_page=${R}`,a=await v(`${B}${s}`,C);if(!a.data)throw new Error(`HTTP error! Status: ${a.status}`);return a.data}catch(s){throw console.error(s),s}}const d=document.querySelector("ul.gallery"),g=document.querySelector(".loader"),b=document.querySelector(".load-more-btn"),D=new M(".gallery li a",{captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",nav:!0,captionDelay:250});function w(o){const e=o.map(({largeImageURL:s,webformatURL:a,tags:t,likes:r,views:i,comments:S,downloads:q})=>`<li class="gallery-item">
                <a class="gallery-link" href="${s}">
                  <img class="gallery-image" src="${a}" width='100px' alt="${t.split(",").slice(0,3).join(",")}">
                  <ul class="image-params">
                    <li><b>Likes</b>:<br> ${r}</li>
                    <li><b>Views</b>:<br> ${i}</li>
                    <li><b>Comments</b>:<br> ${S}</li>
                    <li><b>Downloads</b>:<br> ${q}</li>
                  </ul>
                </a>
              </li>`).join("");d.insertAdjacentHTML("beforeend",e),D.refresh()}function G(){d.innerHTML=""}function L(){d.classList.remove("is-shown"),g.classList.add("is-shown")}function c(){g.classList.remove("is-shown"),d.classList.add("is-shown")}function $(){b.classList.add("is-shown")}function u(){b.classList.remove("is-shown")}let n=1,y=0;const l={query:document.querySelector(".js-input-field"),form:document.querySelector(".js-form"),loadMoreButton:document.querySelector(".js-load-more-btn"),gallery:document.querySelector(".js-gallery")},f={emptyResponseMessage:"Sorry, there are no images matching your search query. Please try again!",emptyQueryMessage:"Please enter your search query image",endSearchResults:"We're sorry, but you've reached the end of search results."};let p="";function m(o){j.show({message:o,messageColor:"#ffffff",backgroundColor:"#fe5549",progressBar:!1,position:"center"})}l.form.addEventListener("submit",async o=>{if(o.preventDefault(),l.query.value.trim()===""){m(f.emptyQueryMessage);return}G(),u(),L(),n=1;try{p=l.query.value;const e=await h(p,n);if(c(),!e.hits||e.hits.length===0){m(f.emptyResponseMessage);return}w(e.hits),y=Math.ceil(e.totalHits/e.hits.length),n<y?$():u()}catch(e){console.log(e),c()}});l.loadMoreButton.addEventListener("click",async o=>{o.preventDefault(),n+=1,L(),u();try{const e=await h(p,n);c(),w(e.hits);const s=l.gallery.getBoundingClientRect();if(window.scrollBy({top:s.height*2,behavior:"smooth"}),n>=y){u(),m(f.endSearchResults);return}}catch(e){console.log(e),c()}$()});
//# sourceMappingURL=index.js.map
